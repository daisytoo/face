{% extends "basep.html" %}
{% block content %}
    <div class="layui-container">
        <blockquote class="layui-elem-quote">
            <h1>教师基本信息</h1>
        </blockquote>
        {# 查询家长模块 #}
        <form action="/teacher/search" method="get">
            <input placeholder="教师名" name="q" id="q">
            <input type="submit" class="layui-btn" value="搜索">
        </form>

        {# 显示所有家长模块 #}
        <table class="layui-table">
      <colgroup>
        <col width="150">
        <col width="200">
        <col>
      </colgroup>
      <thead>
        <tr>
            <th>id</th>
            <th>姓名</th>
            <th>电话</th>
            <th>班级</th>
            <th>照片</th>
            <th>修改</th>
            <th>删除</th>
        </tr>
      </thead>
      <tbody>
        {%for teacher in data%}
            <tr>
                <td>{{teacher.tid}}</td>
                <td>{{teacher.tname}}</td>
                <td>{{teacher.ttel}}</td>
                <td>{{teacher.clazz.cname}}</td>
                <td>
{#                    <img src="{{ MEDIA_URL }}{{ teacher.simg }}" height="50px">#}
                    <img src="/static/media/{{ teacher.timg }}" height="50px">
                </td>
                <td>
                    {# 修改家长模块 #}
                    <a href="/teacher/get/{{ teacher.tid }}" class="layui-btn layui-btn-normal">
                        <i class="layui-icon">&#xe642;</i>修改
                    </a>
                </td>
                <td>
                    {# 删除家长模块 #}
                    <a href="/teacher/delete/{{ teacher.tid }}" class="layui-btn layui-btn-danger">
                        <i class="layui-icon">&#xe640;</i>删除
                    </a>
                </td>
            </tr>
        {%endfor%}
      </tbody>
        </table>

        {# 添加家长模块 #}
        <a href="{% url 'teacher:add_page' %}" class="layui-btn layui-btn-warm">
            <i class="layui-icon">&#xe654;</i> 添加
        </a>
    </div>
{% endblock %}